{"ast":null,"code":"var _jsxFileName = \"/Users/kentokobaysahi/Documents/GitHub/personal-event-tracker/personal-event-tracker/src/views/Gym/GymGraph.js\";\nimport React, { useRef, useLayoutEffect } from 'react'; // import recharts\n\nimport { ScatterChart, XAxis, YAxis, Scatter, Tooltip, Legend } from 'recharts'; // import material ui core \n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport styles from '../../assets/styles/views/gym/gymgraphStyle.js';\nimport { map } from 'jquery';\nconst useStyles = makeStyles(styles);\nexport default function DashGraph(props) {\n  const classes = useStyles();\n  const targetRef = useRef(); // states\n\n  const [state, setState] = React.useState({\n    width: 0,\n    height: 0\n  });\n  useLayoutEffect(() => {\n    if (targetRef.current) {\n      setState({ ...state,\n        width: targetRef.current.offsetWidth,\n        height: targetRef.current.offsetHeight\n      });\n    }\n  }, []);\n\n  const titleCase = str => {\n    var splitStr = str.toLowerCase().split(' ');\n\n    for (var i = 0; i < splitStr.length; i++) {\n      splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n    }\n\n    return splitStr.join(' ');\n  }; // function that selects data based on the selected workout and date range \n\n\n  const filteredByDate = props.data.map(workout => {\n    return {\n      name: workout.name,\n      workoutdata: workout.data.map(data => {\n        if (moment(data.date).isBetween(props.start, props.end)) {\n          return {\n            data\n          };\n        }\n      })\n    };\n  });\n  const CustomizedLabel = React.createClass({\n    displayName: \"CustomizedLabel\",\n\n    render() {\n      const {\n        x,\n        y,\n        stroke,\n        value\n      } = this.props;\n      return /*#__PURE__*/React.createElement(\"text\", {\n        x: x,\n        y: y,\n        dy: -4,\n        fill: stroke,\n        fontSize: 10,\n        textAnchor: \"middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 20\n        }\n      }, value);\n    }\n\n  });\n\n  const getData = () => {\n    if (filteredByDate.length === 0) {\n      return /*#__PURE__*/React.createElement(Scatter, {\n        data: [{\n          \"time\": moment().subtract(2, 'days').valueOf(),\n          \"value\": 0\n        }, {\n          \"time\": moment().subtract(1, 'days').valueOf(),\n          \"value\": 0\n        }, {\n          \"time\": moment().valueOf(),\n          \"value\": 0\n        }],\n        line: {\n          stroke: props.theme.colors.primary\n        },\n        lineJointType: \"monotoneX\",\n        lineType: \"joint\",\n        legendType: \"line\",\n        name: \"No Data\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      });\n    } else {\n      return filteredByDate.map((prop, key) => {\n        if (!prop.workoutdata.includes(undefined)) {\n          return /*#__PURE__*/React.createElement(Scatter, {\n            key: key,\n            data: prop.workoutdata.map(workout => {\n              return {\n                \"time\": moment(workout.data.date).valueOf(),\n                \"value\": workout.data.weight\n              };\n            }),\n            line: {\n              stroke: props.theme.colors.primary\n            },\n            lineJointType: \"monotoneX\",\n            lineType: \"joint\",\n            legendType: \"line\",\n            name: prop.name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }\n          });\n        } else {\n          return /*#__PURE__*/React.createElement(Scatter, {\n            data: [],\n            line: {\n              stroke: props.theme.colors.primary\n            },\n            lineJointType: \"monotoneX\",\n            lineType: \"joint\",\n            legendType: \"line\",\n            name: \"Not Enough Data for \" + prop.name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }\n          });\n        }\n      });\n    }\n  }; // style\n\n\n  return /*#__PURE__*/React.createElement(Paper, {\n    className: classes.paper,\n    ref: targetRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ScatterChart, {\n    className: classes.chart,\n    width: state.width,\n    height: state.height,\n    margin: {\n      top: 30,\n      right: 50,\n      left: 20,\n      bottom: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"time\",\n    domain: ['auto', 'auto'],\n    name: \"Time\",\n    tickFormatter: unixTime => moment(unixTime).format('MM-DD-YYYY'),\n    type: \"number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    dataKey: \"value\",\n    name: \"Value\",\n    domain: ['auto', 'auto'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 17\n    }\n  }), getData(), /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    height: 36,\n    wrapperStyle: {\n      top: 30,\n      left: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/kentokobaysahi/Documents/GitHub/personal-event-tracker/personal-event-tracker/src/views/Gym/GymGraph.js"],"names":["React","useRef","useLayoutEffect","ScatterChart","XAxis","YAxis","Scatter","Tooltip","Legend","makeStyles","Paper","moment","RemoveIcon","styles","map","useStyles","DashGraph","props","classes","targetRef","state","setState","useState","width","height","current","offsetWidth","offsetHeight","titleCase","str","splitStr","toLowerCase","split","i","length","charAt","toUpperCase","substring","join","filteredByDate","data","workout","name","workoutdata","date","isBetween","start","end","CustomizedLabel","createClass","render","x","y","stroke","value","getData","subtract","valueOf","theme","colors","primary","prop","key","includes","undefined","weight","paper","chart","top","right","left","bottom","unixTime","format"],"mappings":"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","sourcesContent":["import React, { useRef, useLayoutEffect } from 'react';\n\n// import recharts\nimport {\n    ScatterChart, XAxis, YAxis, Scatter, Tooltip, Legend,\n} from 'recharts';\n\n// import material ui core \nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport moment from 'moment';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nimport styles from '../../assets/styles/views/gym/gymgraphStyle.js';\nimport { map } from 'jquery';\n\nconst useStyles = makeStyles(styles);\n\nexport default function DashGraph(props) {\n    const classes = useStyles();\n    const targetRef = useRef();\n\n    // states\n    const [state, setState] = React.useState({\n        width: 0,\n        height: 0,\n    });\n\n    useLayoutEffect(() => {\n        if (targetRef.current) {\n            setState({\n                ...state,\n                width: targetRef.current.offsetWidth,\n                height: targetRef.current.offsetHeight\n            });\n        }\n    }, []);\n\n    const titleCase = (str) => {\n        var splitStr = str.toLowerCase().split(' ');\n        for (var i = 0; i < splitStr.length; i++) {\n            splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n        }\n        return splitStr.join(' ');\n    }\n\n    // function that selects data based on the selected workout and date range \n    const filteredByDate = props.data.map(workout => {\n        return {\n            name: workout.name,\n            workoutdata:\n                workout.data.map(data => {\n                    if (moment(data.date).isBetween(props.start, props.end)) {\n                        return {\n                            data\n                        };\n                    }\n                })\n        };\n    })\n\n    const CustomizedLabel = React.createClass({\n        render() {\n            const { x, y, stroke, value } = this.props;\n\n            return <text x={x} y={y} dy={-4} fill={stroke} fontSize={10} textAnchor=\"middle\">{value}</text>\n        }\n    });\n\n    const getData = () => {\n        if (filteredByDate.length === 0) {\n            return (\n                <Scatter\n                    data={[\n                        {\n                            \"time\": moment().subtract(2, 'days').valueOf(),\n                            \"value\": 0\n                        },\n                        {\n                            \"time\": moment().subtract(1, 'days').valueOf(),\n                            \"value\": 0\n                        },\n                        {\n                            \"time\": moment().valueOf(),\n                            \"value\": 0\n                        },\n                    ]}\n                    line={{ stroke: props.theme.colors.primary }}\n                    lineJointType='monotoneX'\n                    lineType='joint'\n                    legendType=\"line\"\n                    name={\"No Data\"}\n                />\n            );\n        } else {\n            return (\n                filteredByDate.map((prop, key) => {\n                    if (!prop.workoutdata.includes(undefined)) {\n                        return (\n                            <Scatter\n                                key={key}\n                                data={\n                                    prop.workoutdata.map(workout => {\n                                        return {\n                                            \"time\": moment(workout.data.date).valueOf(),\n                                            \"value\": workout.data.weight\n                                        }\n                                    })\n                                }\n                                line={{ stroke: props.theme.colors.primary }}\n                                lineJointType='monotoneX'\n                                lineType='joint'\n                                legendType=\"line\"\n                                name={prop.name}\n                            />\n                        );\n                    } else {\n                        return (\n                            <Scatter\n                                data={[]}\n                                line={{ stroke: props.theme.colors.primary }}\n                                lineJointType='monotoneX'\n                                lineType='joint'\n                                legendType=\"line\"\n                                name={\"Not Enough Data for \" + prop.name}\n                            />\n                        );\n                    }\n                })\n            );\n        }\n    }\n    // style\n\n    return (\n        <Paper className={classes.paper} ref={targetRef} >\n            <ScatterChart\n                className={classes.chart}\n                width={state.width} height={state.height}\n                margin={{ top: 30, right: 50, left: 20, bottom: 0 }}>\n                <XAxis dataKey='time'\n                    domain={['auto', 'auto']}\n                    name='Time'\n                    tickFormatter={(unixTime) => moment(unixTime).format('MM-DD-YYYY')}\n                    type='number'\n                />\n                <YAxis dataKey='value' name='Value' domain={['auto', 'auto']} />\n                {getData()}\n                <Tooltip />\n                <Legend height={36} wrapperStyle={{ top: 30, left: 25 }} />\n            </ScatterChart>\n        </Paper>\n\n\n    );\n}"]},"metadata":{},"sourceType":"module"}